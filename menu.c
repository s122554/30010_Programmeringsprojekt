#include <sio.h>
#include <menu.h> 
#include <helper.h>
#include <ansi.h>
#include <MathFix.h>

#define MENU_ITEM_COUNT 4
extern const unsigned char frameBounds[4];
unsigned char current_index, menu_selected;

rom char asciiTileFighter[6][120] = {
	{  32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,219,219,219,219,219,219,219,219,187,219,219,187,219,219,187, 32, 32, 32, 32, 32,219,219,219,219,219,219,219,187, 32, 32, 32, 32,219,219,219,219,219,219,219,187,219,219,187, 32,219,219,219,219,219,219,187, 32,219,219,187, 32, 32,219,219,187,219,219,219,219,219,219,219,219,187,219,219,219,219,219,219,219,187,219,219,219,219,219,219,187, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32},
	{ 220, 32,219,219,187,220,220, 32,219,219,187,220, 32, 32, 32, 32,200,205,205,219,219,201,205,205,188,219,219,186,219,219,186, 32, 32, 32, 32, 32,219,219,201,205,205,205,205,188, 32, 32, 32, 32,219,219,201,205,205,205,205,188,219,219,186,219,219,201,205,205,205,205,188, 32,219,219,186, 32, 32,219,219,186,200,205,205,219,219,201,205,205,188,219,219,201,205,205,205,205,188,219,219,201,205,205,219,219,187, 32, 32, 32, 32,220, 32,219,219,187,220,220, 32,219,219,187,220},
	{  32,219,219,219,219,187, 32,219,219,219,219,187, 32, 32, 32, 32, 32, 32, 32,219,219,186, 32, 32, 32,219,219,186,219,219,186, 32, 32, 32, 32, 32,219,219,219,219,219,187, 32, 32, 32, 32, 32, 32,219,219,219,219,219,187, 32, 32,219,219,186,219,219,186, 32, 32,219,219,219,187,219,219,219,219,219,219,219,186, 32, 32, 32,219,219,186, 32, 32, 32,219,219,219,219,219,187, 32, 32,219,219,219,219,219,219,201,188, 32, 32, 32, 32, 32,219,219,219,219,187, 32,219,219,219,219,187},
	{ 223,200,219,219,201,223,223,200,219,219,201,223, 32, 32, 32, 32, 32, 32, 32,219,219,186, 32, 32, 32,219,219,186,219,219,186, 32, 32, 32, 32, 32,219,219,201,205,205,188, 32, 32, 32, 32, 32, 32,219,219,201,205,205,188, 32, 32,219,219,186,219,219,186, 32, 32, 32,219,219,186,219,219,201,205,205,219,219,186, 32, 32, 32,219,219,186, 32, 32, 32,219,219,201,205,205,188, 32, 32,219,219,201,205,205,219,219,187, 32, 32, 32, 32,223,200,219,219,201,223,223,200,219,219,201,223},
	{  32, 32,200,205,188, 32, 32, 32,200,205,188, 32, 32, 32, 32, 32, 32, 32, 32,219,219,186, 32, 32, 32,219,219,186,219,219,219,219,219,219,219,187,219,219,219,219,219,219,219,187, 32, 32, 32, 32,219,219,186, 32, 32, 32, 32, 32,219,219,186,200,219,219,219,219,219,219,201,188,219,219,186, 32, 32,219,219,186, 32, 32, 32,219,219,186, 32, 32, 32,219,219,219,219,219,219,219,187,219,219,186, 32, 32,219,219,186, 32, 32, 32, 32, 32, 32,200,205,188, 32, 32, 32,200,205,188, 32},
	{  32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,200,205,188, 32, 32, 32,200,205,188,200,205,205,205,205,205,205,188,200,205,205,205,205,205,205,188, 32, 32, 32, 32,200,205,188, 32, 32, 32, 32, 32,200,205,188, 32,200,205,205,205,205,205,188, 32,200,205,188, 32, 32,200,205,188, 32, 32, 32,200,205,188, 32, 32, 32,200,205,205,205,205,205,205,188,200,205,188, 32, 32,200,205,188, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32},
};

rom char asciiEasy[6][44] = {
	{ 32, 32, 32, 32, 32,219,219,219,219,219,219,219,187, 32,219,219,219,219,219,187, 32,219,219,219,219,219,219,219,187,219,219,187, 32, 32, 32,219,219,187, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,201,205,205,205,205,188,219,219,201,205,205,219,219,187,219,219,201,205,205,205,205,188,200,219,219,187, 32,219,219,201,188, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,219,219,219,187, 32, 32,219,219,219,219,219,219,219,186,219,219,219,219,219,219,219,187, 32,200,219,219,219,219,201,188, 32, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,201,205,205,188, 32, 32,219,219,201,205,205,219,219,186,200,205,205,205,205,219,219,186, 32, 32,200,219,219,201,188, 32, 32, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,219,219,219,219,219,187,219,219,186, 32, 32,219,219,186,219,219,219,219,219,219,219,186, 32, 32, 32,219,219,186, 32, 32, 32, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,200,205,205,205,205,205,205,188,200,205,188, 32, 32,200,205,188,200,205,205,205,205,205,205,188, 32, 32, 32,200,205,188, 32, 32, 32, 32, 32, 32, 32, 32},
};

rom char asciiMedium[6][60] = {
	{ 32, 32, 32, 32, 32,219,219,219,187, 32, 32, 32,219,219,219,187,219,219,219,219,219,219,219,187,219,219,219,219,219,219,187, 32,219,219,187,219,219,187, 32, 32, 32,219,219,187,219,219,219,187, 32, 32, 32,219,219,219,187, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,219,219,187, 32,219,219,219,219,186,219,219,201,205,205,205,205,188,219,219,201,205,205,219,219,187,219,219,186,219,219,186, 32, 32, 32,219,219,186,219,219,219,219,187, 32,219,219,219,219,186, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,201,219,219,219,219,201,219,219,186,219,219,219,219,219,187, 32, 32,219,219,186, 32, 32,219,219,186,219,219,186,219,219,186, 32, 32, 32,219,219,186,219,219,201,219,219,219,219,201,219,219,186, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,186,200,219,219,201,188,219,219,186,219,219,201,205,205,188, 32, 32,219,219,186, 32, 32,219,219,186,219,219,186,219,219,186, 32, 32, 32,219,219,186,219,219,186,200,219,219,201,188,219,219,186, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,186, 32,200,205,188, 32,219,219,186,219,219,219,219,219,219,219,187,219,219,219,219,219,219,201,188,219,219,186,200,219,219,219,219,219,219,201,188,219,219,186, 32,200,205,188, 32,219,219,186, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,200,205,188, 32, 32, 32, 32, 32,200,205,188,200,205,205,205,205,205,205,188,200,205,205,205,205,205,188, 32,200,205,188, 32,200,205,205,205,205,205,188, 32,200,205,188, 32, 32, 32, 32, 32,200,205,188, 32, 32, 32, 32, 32},
};

rom char asciiHard[6][42] = {
	{ 32, 32, 32, 32, 32,219,219,187, 32, 32,219,219,187, 32,219,219,219,219,219,187, 32,219,219,219,219,219,219,187, 32,219,219,219,219,219,219,187, 32, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,186, 32, 32,219,219,186,219,219,201,205,205,219,219,187,219,219,201,205,205,219,219,187,219,219,201,205,205,219,219,187, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,219,219,219,219,219,186,219,219,219,219,219,219,219,186,219,219,219,219,219,219,201,188,219,219,186, 32, 32,219,219,186, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,201,205,205,219,219,186,219,219,201,205,205,219,219,186,219,219,201,205,205,219,219,187,219,219,186, 32, 32,219,219,186, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,186, 32, 32,219,219,186,219,219,186, 32, 32,219,219,186,219,219,186, 32, 32,219,219,186,219,219,219,219,219,219,201,188, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,200,205,188, 32, 32,200,205,188,200,205,188, 32, 32,200,205,188,200,205,188, 32, 32,200,205,188,200,205,205,205,205,205,188, 32, 32, 32, 32, 32, 32},
};
	
rom char asciiFuck[6][49] = {
	{ 32, 32, 32, 32, 32,219,219,219,219,219,219,219,187,219,219,187, 32, 32, 32,219,219,187, 32,219,219,219,219,219,219,187,219,219,187, 32, 32,219,219,187,219,219,187,219,219,187, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,201,205,205,205,205,188,219,219,186, 32, 32, 32,219,219,186,219,219,201,205,205,205,205,188,219,219,186, 32,219,219,201,188,219,219,186,219,219,186, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,219,219,219,187, 32, 32,219,219,186, 32, 32, 32,219,219,186,219,219,186, 32, 32, 32, 32, 32,219,219,219,219,219,201,188, 32,219,219,186,219,219,186, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,201,205,205,188, 32, 32,219,219,186, 32, 32, 32,219,219,186,219,219,186, 32, 32, 32, 32, 32,219,219,201,205,219,219,187, 32,200,205,188,200,205,188, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,219,219,186, 32, 32, 32, 32, 32,200,219,219,219,219,219,219,201,188,200,219,219,219,219,219,219,187,219,219,186, 32, 32,219,219,187,219,219,187,219,219,187, 32, 32, 32, 32, 32},
	{ 32, 32, 32, 32, 32,200,205,188, 32, 32, 32, 32, 32, 32,200,205,205,205,205,205,188, 32, 32,200,205,205,205,205,205,188,200,205,188, 32, 32,200,205,188,200,205,188,200,205,188, 32, 32, 32, 32, 32},
};

void menu_print(){
	unsigned char h=6,l=120,h_offset = 5,linespace=2, x_offset=30;
	unsigned char i,j,startX,startY;

	menu_selected = 0;
	startX = (frameBounds[2]+frameBounds[1]-l)/2;
	startY = frameBounds[1]+h_offset;
	
	reverse(0);
	for(j=0; j<h; j++){
		gotoxy(startX, startY+j);
		for(i=0;i<l;i++){
			printf("%c", asciiTileFighter[j][i]);
		}
	}
	
	if(current_index == 0) reverse(1); else reverse(0);
	l = 43;
	for(j=0; j<h; j++){
		gotoxy(startX+x_offset+8, startY+j+(h+linespace));
		for(i=0;i<l;i++){
			printf("%c", asciiEasy[j][i]);
		}
	}
	
	if(current_index == 1) reverse(1); else reverse(0);
	l = 60;
	for(j=0; j<h; j++){
		gotoxy(startX+x_offset, startY+j+(h+linespace)*2);
		for(i=0;i<l;i++){
			printf("%c", asciiMedium[j][i]);
		}
	}

	if(current_index == 2) reverse(1); else reverse(0);
	l = 42;
	for(j=0; j<h; j++){
		gotoxy(startX+x_offset+9, startY+j+(h+linespace)*3);
		for(i=0;i<l;i++){
			printf("%c", asciiHard[j][i]);
		}
	}

	if(current_index == 3) reverse(1); else reverse(0);
	l = 49;
	for(j=0; j<h; j++){
		gotoxy(startX+x_offset+6, startY+j+(h+linespace)*4);
		for(i=0;i<l;i++){
			printf("%c", asciiFuck[j][i]);
		}
	}
	if(current_index == 3) reverse(0);
}

void menu_setIndex(unsigned char index){
	if(index >= 0 && index < MENU_ITEM_COUNT){
		current_index = index;
	}
}

void menu_next(){
	if(current_index < MENU_ITEM_COUNT-1){
		current_index++;
	}
	menu_print();
}

void menu_prev(){
	if(current_index > 0){
		current_index--;
	}
	menu_print();
}

unsigned char menu_isSelected(){
	return menu_selected;
}

unsigned char menu_select(){
	menu_selected = 1;
	return current_index;
}


